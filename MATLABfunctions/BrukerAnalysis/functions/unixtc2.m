function res = unixtc(filein,fileout)%   res = unixtc(filein,fileout)%% Converts the unix text file 'filein' to the text file% 'fileout'. If 'fileout' is omitted, the original file is% overwritten. res = 1 in case of success.% Open the files[fpath,fname,fext] = fileparts(filein);fidin = fopen(filein,'r');if fidin == -1   error(['The file ',filin,' does not exist.']);   returnendif exist('fileout')   fido = fopen(fileout,'wt');else   tmpname = [fpath,'ctempf.tmp'];   fido = fopen(tmpname,'wt');end% Read the complete file as a number vectorfilevec=fread(fidin,inf,'uchar');% Find the positions in the file vector where line-feeds should be madelfpos = find(filevec==10);% Go through the vector and write the linesspos = 1;  % Start position of each linefor i=1:length(lfpos),   epos = lfpos(i)-1;  % End position of each line   fprintf(fido,'%s\n',char(filevec(spos:epos)));   spos = lfpos(i)+1;end% Write the last linefprintf(fido,'%s',char(filevec(spos:length(filevec))));fclose(fidin);fclose(fido);if ~exist('fileout')   delete(filein);   copyfile(tmpname,filein)   delete(tmpname)endres = 1;